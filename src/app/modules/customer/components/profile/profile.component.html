<form [formGroup]="validateForm" class="form-container">
  <mat-card class="profile-card">

      <div class="profile-picture">
          <div class="avatar-wrapper">
              <img class="avatar" *ngIf="existingProfileImage" [src]="existingProfileImage" alt="profile" />
              <mat-icon class="avatar-icon" *ngIf="!existingProfileImage">account_circle</mat-icon>
          </div>
          <label for="upload-profile-image" class="edit-icon">
              <mat-icon>edit</mat-icon>
          </label>
      </div>

      <input type="file" id="upload-profile-image" accept="image/x-png,image/gif,image/jpeg"
          (change)="onFileSelected($event)" hidden>
  </mat-card>

  <mat-form-field appearance="outline" class="form-field">
      <mat-label>{{ 'PROFILE.EMAIL_LABEL' | translate }}</mat-label>
      <input matInput type="email" placeholder="{{ 'PROFILE.EMAIL_LABEL' | translate }}" formControlName="email">
      <mat-error *ngIf="validateForm.get('email')?.hasError('required')">
          {{ 'PROFILE.REQUIRED_INPUT' | translate }}
      </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline" class="form-field">
      <mat-label>{{ 'PROFILE.NAME_LABEL' | translate }}</mat-label>
      <input matInput type="text" placeholder="{{ 'PROFILE.NAME_LABEL' | translate }}" formControlName="name">
      <mat-error *ngIf="validateForm.get('name')?.hasError('required')">
          {{ 'PROFILE.REQUIRED_INPUT' | translate }}
      </mat-error>
  </mat-form-field>

  <button mat-raised-button color="primary" [disabled]="!validateForm.valid" (click)="submitForm()">
      {{ 'PROFILE.SAVE_BUTTON' | translate }}
  </button>

  <mat-card-actions>
      <button mat-button color="accent" routerLink="/customer/change_password">
          {{ 'PROFILE.CHANGE_PASSWORD_BUTTON' | translate }}
      </button>
  </mat-card-actions>
</form>
